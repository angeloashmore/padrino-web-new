<!DOCTYPE html><html><head><meta charset="utf-8" /><meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible" /><meta content="initial-scale=1" name="viewport" /><title>Padrino - Mounting Applications</title><link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet" /><link href="../../assets/stylesheets/style-75d468d0.css" rel="stylesheet" /></head><body class="guides guides_mounting-applications guides_mounting-applications_index"><div class="grid"><header class="header"><h1 class="header__name"><a class="padrino-name" href="/">Padrino</a></h1><div class="header__navigation"><nav class="navigation"><a class="navigation__toggler" href="#" id="navigation__toggler"><span class="navigation__toggler__icon fa fa-navicon"></span></a><ul class="navigation__items" id="navigation__items"><li class="navigation__item"><a class="navigation__link" href="/">Overview</a></li><li class="navigation__item"><a class="navigation__link--is-active" href="/guides/">Guides</a></li><li class="navigation__item"><a class="navigation__link" href="/blog/">Blog</a></li><li class="navigation__item"><a class="navigation__link" href="http://www.rubydoc.info/github/padrino/padrino-framework">API</a></li><li class="navigation__item"><a class="navigation__link" href="/contribute/">Contribute</a></li><li class="navigation__item"><a class="navigation__link" href="https://github.com/padrino/padrino-framework"><span class="button--slim">GitHub</span></a></li></ul></nav></div></header><div class="page"><div class="page__sidebar"><div class="sidebar"><h4 class="sidebar__header--first">Guides</h4><ul class="sidebar__items"><li class="sidebar__item"><a class="sidebar__link" href="/guides/">Home</a></li><li class="sidebar__item"><a class="sidebar__link" href="/guides/getting-started/">Getting Started</a></li><li class="sidebar__item"><a class="sidebar__link" href="/guides/installation/">Installation</a></li><li class="sidebar__item"><a class="sidebar__link" href="/guides/basic-projects/">Basic Projects</a></li><li class="sidebar__item"><a class="sidebar__link" href="/guides/generators/">Generators</a></li><li class="sidebar__item"><a class="sidebar__link" href="/guides/development-commands/">Development Commands</a></li><li class="sidebar__item"><a class="sidebar__link--is-active" href="/guides/mounting-applications/">Mounting Applications</a></li><li class="sidebar__item"><a class="sidebar__link" href="/guides/blog-tutorial/">Blog Tutorial</a></li><li class="sidebar__item"><a class="sidebar__link" href="/guides/application-helpers/">Application Helpers</a></li><li class="sidebar__item"><a class="sidebar__link" href="/guides/padrino-admin/">Padrino Admin</a></li><li class="sidebar__item"><a class="sidebar__link" href="/guides/padrino-mailer/">Padrino Mailer</a></li><li class="sidebar__item"><a class="sidebar__link" href="/guides/padrino-cache/">Padrino Cache</a></li><li class="sidebar__item"><a class="sidebar__link" href="/guides/controllers/">Controllers</a></li><li class="sidebar__item"><a class="sidebar__link" href="/guides/localization/">Localization</a></li><li class="sidebar__item"><a class="sidebar__link" href="/guides/extensions/">Extensions</a></li><li class="sidebar__item"><a class="sidebar__link" href="/guides/rake-tasks/">Rake Tasks</a></li><li class="sidebar__item"><a class="sidebar__link" href="/guides/the-bleeding-edge/">The Bleeding Edge</a></li><li class="sidebar__item"><a class="sidebar__link" href="/guides/adding-new-components/">Adding New Components</a></li><li class="sidebar__item"><a class="sidebar__link" href="/guides/standalone-usage-in-sinatra/">Standalone Usage in Sinatra</a></li><li class="sidebar__item"><a class="sidebar__link" href="/guides/running-padrino-on-jruby/">Running Padrino on JRuby</a></li></ul></div></div><div class="page__content"><div class="content"><h1 id="mounting-applications">Mounting Applications</h1>

<p>Padrino applications are all automatically mountable into other Padrino
projects. This means that a given Padrino project directory can easily mount
multiple applications. This allows for better organization of complex
applications, re-usable applications that can be applied (i.e admin, auth, blog)
and even more flexibility.</p>

<p>You can think of mountable applications as a "full-featured" Merb slice or Rails
engine. Instead of a separate construct, any application can simply be packaged
and mounted into another project.</p>

<hr />

<h2 id="mounting-syntax">Mounting Syntax</h2>

<p>Padrino stores application mounting information by default within
<code>config/apps.rb</code>. This file is intended to keep all information regarding what
applications are mounted to which uri’s. An <code>apps.rb</code> file has the following
structure:</p>

<pre class="highlight ruby"><code><span class="no">Padrino</span><span class="p">.</span><span class="nf">mount</span><span class="p">(</span><span class="s2">"blog"</span><span class="p">).</span><span class="nf">to</span><span class="p">(</span><span class="s2">"/blog"</span><span class="p">)</span>
<span class="no">Padrino</span><span class="p">.</span><span class="nf">mount</span><span class="p">(</span><span class="s2">"website"</span><span class="p">).</span><span class="nf">to</span><span class="p">(</span><span class="s2">"/website"</span><span class="p">)</span>
<span class="no">Padrino</span><span class="p">.</span><span class="nf">mount</span><span class="p">(</span><span class="s2">"app"</span><span class="p">).</span><span class="nf">to</span><span class="p">(</span><span class="s2">"/"</span><span class="p">)</span>
</code></pre>

<p>This would mount three applications onto the Padrino project, one served from
the ‘/blog’ uri namespace one with ‘/website’ uri namespace and the other served
from the ‘/’ uri namespace.</p>

<hr />

<h2 id="advanced-mounting-support">Advanced Mounting Support</h2>

<p>In addition to the basic mounting capabilities afforded by Padrino for each
application within a project, the
<a href="http://github.com/padrino/padrino-framework/blob/master/padrino-core/lib/padrino-core/router.rb">Padrino::Router</a>
also allows for more advanced mounting conditions.</p>

<p>The <code>Padrino::Router</code> is an enhanced version of
<a href="http://github.com/rack/rack/blob/master/lib/rack/urlmap.rb">Rack::UrlMap</a> which
extends the ability to mount applications to a specified path, or specify host
and subdomains to match to an application. For example, you could put the
following in your <code>config/apps.rb</code> file:</p>

<pre class="highlight ruby"><code><span class="c1"># Adds support for matching an app to a host string or pattern</span>
<span class="no">Padrino</span><span class="p">.</span><span class="nf">mount</span><span class="p">(</span><span class="s2">"Blog"</span><span class="p">).</span><span class="nf">to</span><span class="p">(</span><span class="s2">"/"</span><span class="p">).</span><span class="nf">host</span><span class="p">(</span><span class="s2">"blog.example.org"</span><span class="p">)</span>
<span class="no">Padrino</span><span class="p">.</span><span class="nf">mount</span><span class="p">(</span><span class="s2">"Admin"</span><span class="p">).</span><span class="nf">host</span><span class="p">(</span><span class="s2">"admin.example.org"</span><span class="p">)</span>
<span class="no">Padrino</span><span class="p">.</span><span class="nf">mount</span><span class="p">(</span><span class="s2">"WebSite"</span><span class="p">).</span><span class="nf">host</span><span class="p">(</span><span class="sr">/.*\.?example.org/</span><span class="p">)</span>
<span class="no">Padrino</span><span class="p">.</span><span class="nf">mount</span><span class="p">(</span><span class="s2">"Foo"</span><span class="p">).</span><span class="nf">to</span><span class="p">(</span><span class="s2">"/foo"</span><span class="p">).</span><span class="nf">host</span><span class="p">(</span><span class="s2">"bar.example.org"</span><span class="p">)</span>
</code></pre>

<p>This will configure each application to match to the given host pattern
simplifying routing considerably.</p>

<p class="excerpt"><a class="button" href="/guides/blog-tutorial">Next Section – Blog Tutorial</a></p>
</div></div></div><hr /><footer class="footer"><p>Padrino is released under the MIT LICENSE<br />
Hosting by <a href="https://pages.github.com">GitHub Pages</a></p>
</footer><script src="../../assets/javascripts/all-c2e0cecd.js"></script></div></body></html>