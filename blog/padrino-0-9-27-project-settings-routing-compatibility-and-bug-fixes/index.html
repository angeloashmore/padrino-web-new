<!DOCTYPE html><html><head><meta charset="utf-8" /><meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible" /><meta content="initial-scale=1" name="viewport" /><title>Padrino - Padrino 0.9.27 - Project settings, routing, compatibility and bug fixes</title><link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet" /><link href="../../assets/stylesheets/style-75d468d0.css" rel="stylesheet" /></head><body class="blog blog_padrino-0-9-27-project-settings-routing-compatibility-and-bug-fixes blog_padrino-0-9-27-project-settings-routing-compatibility-and-bug-fixes_index"><div class="grid"><header class="header"><h1 class="header__name"><a class="padrino-name" href="/">Padrino</a></h1><div class="header__navigation"><nav class="navigation"><a class="navigation__toggler" href="#" id="navigation__toggler"><span class="navigation__toggler__icon fa fa-navicon"></span></a><ul class="navigation__items" id="navigation__items"><li class="navigation__item"><a class="navigation__link" href="/">Overview</a></li><li class="navigation__item"><a class="navigation__link" href="/guides/">Guides</a></li><li class="navigation__item"><a class="navigation__link--is-active" href="/blog/">Blog</a></li><li class="navigation__item"><a class="navigation__link" href="http://www.rubydoc.info/github/padrino/padrino-framework">API</a></li><li class="navigation__item"><a class="navigation__link" href="/contribute/">Contribute</a></li><li class="navigation__item"><a class="navigation__link" href="https://github.com/padrino/padrino-framework"><span class="button--slim">GitHub</span></a></li></ul></nav></div></header><div class="page"><div class="page__sidebar"><div class="sidebar"><h4 class="sidebar__header--first">Blog</h4><h5 class="sidebar__header">Latest Posts</h5><ul class="sidebar__items"><li class="sidebar__item"><a class="sidebar__link" href="/blog/upgrading-padrino-from-0-12-x-to-0-13-0-guide/">Upgrading Padrino from 0.12.X to 0.13.0 Guide</a></li><li class="sidebar__item"><a class="sidebar__link" href="/blog/padrino-0-13-0-mustermann-router-performance-enhancements-streaming-support-and-much-more/">Padrino 0.13.0 - Mustermann Router, Performance Enhancements, Streaming Support, and Much More</a></li><li class="sidebar__item"><a class="sidebar__link" href="/blog/padrino-0-12-5/">Padrino 0.12.5</a></li><li class="sidebar__item"><a class="sidebar__link" href="/blog/padrino-0-12-4/">Padrino 0.12.4</a></li><li class="sidebar__item"><a class="sidebar__link" href="/blog/padrino-0-11-0-released-padrino-lives/">Padrino 0.11.0 Released - Padrino Lives!</a></li><li class="sidebar__item"><a class="sidebar__link" href="/blog/json-gem-vulnerability/">JSON gem vulnerability</a></li><li class="sidebar__item"><a class="sidebar__link" href="/blog/upgrade-rack-immediately/">Upgrade Rack immediately</a></li></ul></div></div><div class="page__content"><div class="content"><div class="article"><h1 class="article__title">Padrino 0.9.27 - Project settings, routing, compatibility and bug fixes</h1><p class="article__metadata">Posted on May 06, 2011 by DAddYE</p><p>Today, we released a new version of Padrino bringing us to 0.9.27. This release is only a week after our last hotfix release because we wanted to keep up the speed as we approach our 0.10.0 release that will coincide with the Sinatra 1.3 release.</p>

<p>We have also significantly improved our release processes as we approach 1.0 and now the continuous integration measures we put in place run all of our tests on every ruby version, a set of <a href="https://github.com/padrino/padrino-integration">elaborate integration tests</a> as well as <a href="https://github.com/DAddYE/web-frameworks-benchmark/tree/more_advanced">full web benchmarks</a> to measure our requests per second versus other ruby frameworks.</p>

<p>This release is primarily compatibility and bug fixes but also contains a few new features involving project-wide settings, reverse route recognition, and offline and test generation updates. Details of the features and fixes are below.</p>

<p>If you want to hear more about Padrino, <a href="http://rubiverse.com/podcasts/10-nathan-esquenazi-on-padrino">a podcast</a> was recently released on Rubiverse.</p>

<h2 id="project-wide-settings">Project-wide Settings</h2>

<p>In this release, we have added the notion of ‘project’ settings that are inherited by every Padrino application within the project. This can be used to set any properties but is particularly useful for sharing sessions across your apps. These project-wide settings are intended to live in <code>config/apps.rb</code> and are generated in every new application.</p>

<pre class="highlight plaintext"><code># config/apps.rb
# Set the global project settings for your apps.
# These settings are inherited by your subapps.
# You can override these settings in each of your sub apps.
Padrino.configure_apps do
  enable :sessions
  set :foo, "bar"
end
</code></pre>

<p>Using this is optional and you can override these settings on a per-app basis as well. Commits are <a href="https://github.com/padrino/padrino-framework/commit/3b04e489ff7477ab28fbca2ded503f3efdde77f3">here</a>, <a href="https://github.com/padrino/padrino-framework/commit/0825b6bf9ae337f5860a3a3cfe5662b646927f03">here</a>, and <a href="https://github.com/padrino/padrino-framework/commit/99033a8a368eb9942daf6b5af174857bd38948e6">here</a>.</p>

<h2 id="reverse-route-recognition">Reverse Route Recognition</h2>

<p>We have occasionally had the need to access the current route from within a template in order to create links or determine the current page.</p>

<p>Given we have a route such as</p>

<pre class="highlight plaintext"><code># controllers.rb
controller :some do
  get :other, :map =&gt; "/custom/url/with-:foo" do; end
end
</code></pre>

<p>We have added the ability to recognize a url and retrieve the route:</p>

<pre class="highlight plaintext"><code># my_view.haml
url(:some, :other, :foo =&gt; :bar)
# =&gt; /custom/url/with-bar
</code></pre>

<p>We have also added the ability to get the current page:</p>

<pre class="highlight plaintext"><code># in a path like /posts/?search=bar&amp;name=foo
= link_to "Sort by Name", current_path("sort" =&gt; :name)
= link_to "Sort by Date", current_path("sort" =&gt; :date)
</code></pre>

<p>Commits for this are <a href="https://github.com/padrino/padrino-framework/commit/c0b23620e08917928fd445b27575ddae3fbfb494">here</a> and <a href="https://github.com/padrino/padrino-framework/commit/221ae9f53fd3e9603c9acf2d22f18b08b3d00ba6">here</a>.</p>

<h2 id="compatibility-fixes">Compatibility Fixes</h2>

<ul>
  <li>Upgrade to Sinatra 1.2.6 dependency from 1.2.4 by default</li>
  <li>Make logger Sinatra 1.3 compatible <a href="https://github.com/padrino/padrino-framework/commit/1ea322e3c74d2c15fac1a67d208670f544984d9b">commit</a></li>
  <li>SCSS needs to rely on ‘sass’ gem instead of ‘haml’ <a href="https://github.com/padrino/padrino-framework/commit/a7758e62e6acdb4cd6f5e00d89595d79f4b01607">commit</a></li>
  <li>Use CouchRest::Model in favor of deprecated CouchRest::ExtendedDocument. Thanks to Burgestrand! <a href="https://github.com/padrino/padrino-framework/commit/8fc910e7fa6dbf41f06cb5a14d97a8988ad6d699">commit</a></li>
  <li>Use the sqlite3 gem as dependency for generated projects <a href="https://github.com/padrino/padrino-framework/commit/8e7ea0081a68bc0ffedc186f62c131835d17124d">commit</a></li>
  <li>Use SecureRandom to generate session secret <a href="https://github.com/padrino/padrino-framework/commit/7770883d3b486342070eb159ab57ffda0f7206e5">commit</a></li>
  <li>Partials can now be used directly with Sinatra from Padrino::Helpers <a href="https://github.com/padrino/padrino-framework/commit/0507fe3910beea2bf268d9ca746349099c35415a">commit</a>, <a href="https://gist.github.com/956825">example</a></li>
  <li>Adds MongoMapper rake task for dropping the database <a href="https://github.com/padrino/padrino-framework/commit/0a9eaae1d3aff47954836bebcd5ae21f74c9a7b2">commit</a></li>
</ul>

<h2 id="bug-fixes">Bug Fixes</h2>

<ul>
  <li>Fix YAML by using ‘syck’ to parse by default <a href="https://github.com/padrino/padrino-framework/commit/a3bc92488b96bc34c3ab6d34498c5ebdeef006b0">commit</a></li>
  <li>Fix to slim template in admin for destroy session <a href="https://github.com/padrino/padrino-framework/commit/5ebf0292ca8a974910d587a7b5c2a0203eac56a6">commit</a></li>
  <li>Offline generation of static js <a href="https://github.com/padrino/padrino-framework/commit/e2069fe19cc5c02ee27620157eedd519555adcb9">commit</a></li>
</ul>

<hr /><div id="disqus_thread"></div></div></div></div></div><hr /><footer class="footer"><p>Padrino is released under the MIT LICENSE<br />
Hosting by <a href="https://pages.github.com">GitHub Pages</a></p>
</footer><script src="../../assets/javascripts/all-c2e0cecd.js"></script></div><script src="https://padrinorb.disqus.com/embed.js"></script></body></html>